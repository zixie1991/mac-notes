VMWare使用
====

Ubuntu 16.04设置静态IP
----

### 查看vmnet8

vmnet8是NAT模式的默认网卡，可以通过文件`/Library/Preferences/VMware Fusion/vmnet8/dhcpd.conf`查看网络配置情况，例如：

```
###### VMNET DHCP Configuration. Start of "DO NOT MODIFY SECTION" #####
# Modification Instructions: This section of the configuration file contains
# information generated by the configuration program. Do not modify this
# section.
# You are free to modify everything else. Also, this section must start
# on a new line
# This file will get backed up with a different name in the same directory
# if this section is edited and you try to configure DHCP again.

# Written at: 01/23/2017 18:48:40
allow unknown-clients;
default-lease-time 1800;                # default is 30 minutes
max-lease-time 7200;                    # default is 2 hours

subnet 192.168.7.0 netmask 255.255.255.0 {
	range 192.168.7.128 192.168.7.254;
	option broadcast-address 192.168.7.255;
	option domain-name-servers 192.168.7.2;
	option domain-name localdomain;
	default-lease-time 1800;                # default is 30 minutes
	max-lease-time 7200;                    # default is 2 hours
	option netbios-name-servers 192.168.7.2;
	option routers 192.168.7.2;
}
host vmnet8 {
	hardware ethernet 00:50:56:C0:00:08;
	fixed-address 192.168.7.1;
	option domain-name-servers 0.0.0.0;
	option domain-name "";
	option routers 0.0.0.0;
}
####### VMNET DHCP Configuration. End of "DO NOT MODIFY SECTION" #######
```

从上述可以看出：

1. range 192.168.175.128 192.168.175.254 指网络段处于128~254之间，也就是说虚拟机的ip地址只可能被分配到其中的一个 
2. option routers 192.168.175.2 指网关地址为192.168.175.2,这个很重要，后面虚拟机设置网关地址时也要填这个，其他的不可以。 
3. 子网掩码是255.255.255.0，广播是192.168.175.255

### 设置Ubuntu的静态IP

首先，在/etc/network/interfaces中配置静态IP

```
auto lo
iface lo inet loopback

auto ens33
iface ens33 inet static
address 192.168.7.80
netmask 255.255.0.0
gateway 192.168.7.1

dns-nameservers 223.5.5.5
```

然后，重启网络

```
/etc/init.d/networking restart
```

最后，进行测试，如果修改未生效，可以试着重启系统

```
ifconfig
ping www.baidu.com
```
